(
    desc: (
        eng: "",
        rus: "",
    ),
    cam: (
        look_at: (0, 0, 0),
        alpha: -2.176664352416994,
        beta: 1.3816529846191394,
        r: 2.173224630707044,
        offset_after_material: 0.00002,
    ),
    uniforms: ([
        (
            name: "room_size_x",
            data: Float((
                min: Some(0),
                max: None,
                value: 4,
            )),
        ),
        (
            name: "room_size_y",
            data: Float((
                min: Some(0),
                max: None,
                value: 4,
            )),
        ),
        (
            name: "room_size_z",
            data: Float((
                min: Some(0),
                max: None,
                value: 4,
            )),
        ),
        (
            name: "teleport_light",
            data: Bool(true),
        ),
        (
            name: "mirror",
            data: Bool(false),
        ),
        (
            name: "black_border",
            data: Formula(("0.01")),
        ),
        (
            name: "border",
            data: Float((
                min: Some(0),
                max: Some(0.3),
                value: 0.055,
            )),
        ),
        (
            name: "enable_portals",
            data: Bool(true),
        ),
        (
            name: "ra",
            data: Float((
                min: Some(-0.93),
                max: Some(0.93),
                value: -0.25,
            )),
        ),
        (
            name: "t",
            data: Float((
                min: Some(0.03),
                max: Some(0.99),
                value: 0.99,
            )),
        ),
        (
            name: "r1",
            data: Formula(("e()^(ra/(1-abs(ra)))")),
        ),
        (
            name: "r2",
            data: Formula(("1")),
        ),
        (
            name: "o1",
            data: Formula(("2*t*min(r1, r2)")),
        ),
        (
            name: "r3",
            data: Formula(("r1+r2-o1")),
        ),
        (
            name: "o2",
            data: Formula(("(r1^2+r3^2-r2^2)/(2*r3)")),
        ),
        (
            name: "h",
            data: Formula(("sqrt(r1^2-o2^2)")),
        ),
        (
            name: "enable_cylinder",
            data: Bool(true),
        ),
        (
            name: "enable_room",
            data: Bool(true),
        ),
        (
            name: "enable_border",
            data: Bool(true),
        ),
        (
            name: "enable_cylinder_degrees",
            data: Int((
                min: Some(0),
                max: Some(3),
                value: 3,
            )),
        ),
        (
            name: "progress1",
            data: Progress(0),
        ),
        (
            name: "progress2",
            data: Progress(0),
        ),
        (
            name: "progress3",
            data: Progress(0),
        ),
        (
            name: "progress4",
            data: Progress(0),
        ),
        (
            name: "enable_object",
            data: Bool(false),
        ),
    ]),
    matrices: ([
        (
            name: "room",
            data: Simple(
                offset: (0, 0, 0),
                scale: 1,
                rotate: (0, 0, 0),
                mirror: (false, false, false),
            ),
        ),
        (
            name: "a1",
            data: Parametrized(
                offset: (
                    x: Value(0),
                    y: Value(0),
                    z: Uniform(Some(Inline(Formula(("-o2/h"))))),
                ),
                rotate: (
                    x: Value(0),
                    y: Value(0),
                    z: Value(0),
                ),
                mirror: (
                    x: Value(0),
                    y: Value(0),
                    z: Value(0),
                ),
                scale: Uniform(Some(Inline(Formula(("r1/h"))))),
            ),
        ),
        (
            name: "b1",
            data: Parametrized(
                offset: (
                    x: Value(0),
                    y: Value(0),
                    z: Uniform(Some(Inline(Formula(("(r3-o2)/h"))))),
                ),
                rotate: (
                    x: Value(0),
                    y: Value(0),
                    z: Value(0),
                ),
                mirror: (
                    x: Value(0),
                    y: Value(0),
                    z: Value(0),
                ),
                scale: Uniform(Some(Inline(Formula(("r2/h"))))),
            ),
        ),
        (
            name: "a_rot",
            data: Simple(
                offset: (0, 0, 0),
                scale: 1,
                rotate: (2.792526803190927, 0, 0),
                mirror: (false, false, false),
            ),
        ),
        (
            name: "b_rot",
            data: Simple(
                offset: (0, 0, 0),
                scale: 1,
                rotate: (0, 0, 0),
                mirror: (false, false, false),
            ),
        ),
        (
            name: "a_final",
            data: Mul(
                to: Some(Named("a_rot")),
                what: Some(Named("a1")),
            ),
        ),
        (
            name: "b_final",
            data: Mul(
                to: Some(Named("b_rot")),
                what: Some(Named("b1")),
            ),
        ),
        (
            name: "room_b",
            data: Teleport(
                first_portal: Some(Named("a_final")),
                second_portal: Some(Named("b_final")),
                what: Some(Named("room")),
            ),
        ),
        (
            name: "room_a",
            data: Teleport(
                first_portal: Some(Named("b_final")),
                second_portal: Some(Named("a_final")),
                what: Some(Named("room")),
            ),
        ),
        (
            name: "room_a2",
            data: Teleport(
                first_portal: Some(Named("b_final")),
                second_portal: Some(Named("a_final")),
                what: Some(Named("room_a")),
            ),
        ),
        (
            name: "room_a3",
            data: Teleport(
                first_portal: Some(Named("b_final")),
                second_portal: Some(Named("a_final")),
                what: Some(Named("room_a2")),
            ),
        ),
        (
            name: "room_b2",
            data: Teleport(
                first_portal: Some(Named("a_final")),
                second_portal: Some(Named("b_final")),
                what: Some(Named("room_b")),
            ),
        ),
        (
            name: "room_b3",
            data: Teleport(
                first_portal: Some(Named("a_final")),
                second_portal: Some(Named("b_final")),
                what: Some(Named("room_b2")),
            ),
        ),
        (
            name: "object",
            data: Simple(
                offset: (0, 1.97, 0),
                scale: 0.2,
                rotate: (0, 0, 0),
                mirror: (false, false, false),
            ),
        ),
    ]),
    objects: ([
        (
            name: "sphere",
            data: Complex(
                kind: Portal(Some(Named("a_final")), Some(Named("b_final"))),
                intersect: (("if (enable_portals_u == 0) return scene_intersection_none;\n\nvec3 op = -r.o.xyz;\nfloat b = dot(op, r.d.xyz);\nfloat det = b*b - dot(op, op) + 1.0;\nif (det < 0.) return scene_intersection_none;\n\ndet = sqrt(det);\nfloat t = b - det;\nif (t < 0.) t = b + det;\nif (t < 0.) return scene_intersection_none;\n\nvec4 pos = r.o + r.d * t;\nvec3 n = normalize(pos.xyz);\n\nfloat u = atan(pos.z, pos.x) / PI;\nfloat v = atan(sqrt(pos.x * pos.x + pos.z * pos.z), pos.y) / PI;\n\nint material = TELEPORT;\nif (teleport_light_u == 0) {\nif (first) material = solid_0_M;\nelse material = solid_1_M;\n}\n\nreturn SceneIntersection(material, SurfaceIntersection(true, t, u, v, n), false);")),
                in_subspace: Normal,
            ),
        ),
        (
            name: "room",
            data: Complex(
                kind: Simple(Some(Named("room"))),
                intersect: (("if (enable_room_u == 0) return scene_intersection_none;\n\nTwoSceneIntersections res = intersect_room(r);\r\n\r\nfor (int i = 0; i < 2; i++) {\r\n  SceneIntersection si = get_from_two(res, i);\r\n  if (si.hit.hit) {\r\n    vec4 glob_pos = room_mat * (r.o + r.d * si.hit.t);\r\n    if (\r\n      length((a_final_mat_inv * glob_pos).xyz) > 1.\r\n      && length((b_final_mat_inv * glob_pos).xyz) > 1.\r\n    ) {\r\n      return si;\r\n    }\r\n  }\r\n}\r\n\r\nreturn scene_intersection_none;")),
                in_subspace: Normal,
            ),
        ),
        (
            name: "room_a",
            data: Complex(
                kind: Simple(Some(Named("room_a"))),
                intersect: (("if (enable_room_u == 0) return scene_intersection_none;\n\nTwoSceneIntersections res = intersect_room(r);\r\n\r\nfor (int i = 0; i < 2; i++) {\r\n  SceneIntersection si = get_from_two(res, i);\r\n  //si.material = solid_3_M;\n  if (si.hit.hit) {\r\n    vec4 prev_pos = room_mat * (r.o + r.d * si.hit.t);\r\n    if (\r\n      length((b_final_mat_inv * prev_pos).xyz) < 1.\r\n      && (ra_u < 0. || length((a_final_mat_inv * prev_pos).xyz) > 1.\r)\n    ) {\r\n      return si;\r\n    }\r\n  }\r\n}\r\n\r\nreturn scene_intersection_none;")),
                in_subspace: Normal,
            ),
        ),
        (
            name: "room_b",
            data: Complex(
                kind: Simple(Some(Named("room_b"))),
                intersect: (("if (enable_room_u == 0) return scene_intersection_none;\n\nTwoSceneIntersections res = intersect_room(r);\r\n\r\nfor (int i = 0; i < 2; i++) {\r\n  SceneIntersection si = get_from_two(res, i);\r\n  //si.material = solid_2_M;\n  if (si.hit.hit) {\r\n    vec4 prev_pos = room_mat * (r.o + r.d * si.hit.t);\r\n    if (\r\n      length((a_final_mat_inv * prev_pos).xyz) < 1.\r\n      && (ra_u > 0. || length((b_final_mat_inv * prev_pos).xyz) > 1.)\n    ) {\r\n      return si;\r\n    }\r\n  }\r\n}\r\n\r\nreturn scene_intersection_none;")),
                in_subspace: Normal,
            ),
        ),
        (
            name: "border",
            data: Flat(
                kind: Simple(Some(Inline(Simple(
                    offset: (0, 0, 0),
                    scale: 1,
                    rotate: (0, 0, 0),
                    mirror: (false, false, false),
                )))),
                is_inside: (("if (enable_border_u == 0) return NOT_INSIDE;\n\nfloat dist = sqrt(x*x + y*y);\nif (dist < 1. + border_u && dist > 1. - border_u) {\n  if (dist > 1. + border_u - black_border_u || dist < 1. - border_u + black_border_u || (dist > 1. && dist < 1. + black_border_u)) {\n    return solid_black_M;\n  } else {\n    if (dist > 1.) {\n      return portal_green_M;\n    } else {\n      if (back) {\n        return portal_red_M;\n      } else {\n        return portal_blue_M;\n      }\n    }\n  }\n} else {\n  return NOT_INSIDE;\n}")),
                in_subspace: Normal,
            ),
        ),
        (
            name: "cylinder",
            data: Complex(
                kind: Simple(Some(Named("room"))),
                intersect: (("// cylinder\r\n\r\nif (enable_cylinder_u == 0) return scene_intersection_none;\r\n\r\nTwoSceneIntersections res = intersect_cylinder(r, 1.0, border_u, 1.0, grid_gray_M);\r\n\r\nfor (int i = 0; i < 2; i++) {\r\n  SceneIntersection si = get_from_two(res, i);\r\n  if (si.hit.hit) {\r\n    vec4 pos = room_mat * (r.o + r.d * si.hit.t);\r\n    bool first = pos.z < 0.;\r\n    if (\r\n      (first && inside_a(pos) && outside_b(pos)) ||\r\n      (!first && inside_b(pos) && outside_a(pos))\r\n    ) {\r\n      return si;\r\n    }\r\n  }\r\n}\r\n\r\nreturn scene_intersection_none;")),
                in_subspace: Normal,
            ),
        ),
        (
            name: "cylinder_a",
            data: Complex(
                kind: Simple(Some(Named("room_a"))),
                intersect: (("// cylinder_a\r\n\r\nif (enable_cylinder_degrees_u < 1) return scene_intersection_none;\r\n\r\nif (enable_cylinder_u == 0) return scene_intersection_none;\r\n\r\nTwoSceneIntersections res = intersect_cylinder(r, 1.0, border_u, 1.0, grid_gray_M);\r\n\r\nfor (int i = 0; i < 2; i++) {\r\n  SceneIntersection si = get_from_two(res, i);\r\n  if (si.hit.hit) {\r\n    vec4 pos = room_mat * (r.o + r.d * si.hit.t);\r\n    vec4 pos_a = room_a_mat * (r.o + r.d * si.hit.t);\r\n    bool first = pos.z < 0.;\r\n    if (\r\n      (!first && outside_a(pos) && outside_b(pos)) ||\r\n      (first && inside_a(pos) && inside_b(pos) && inside_a(pos_a) && outside_b(pos_a))\r\n    ) {\r\n      // if (first) si.material = solid_2_M; else si.material = solid_3_M;\r\n      return si;\r\n    }\r\n  }\r\n}\r\n\r\nreturn scene_intersection_none;")),
                in_subspace: Normal,
            ),
        ),
        (
            name: "cylinder_b",
            data: Complex(
                kind: Simple(Some(Named("room_b"))),
                intersect: (("// cylinder_b\r\n\r\nif (enable_cylinder_degrees_u < 1) return scene_intersection_none;\r\n\r\nif (enable_cylinder_u == 0) return scene_intersection_none;\r\n\r\nTwoSceneIntersections res = intersect_cylinder(r, 1.0, border_u, 1.0, grid_gray_M);\r\n\r\nfor (int i = 0; i < 2; i++) {\r\n  SceneIntersection si = get_from_two(res, i);\r\n  if (si.hit.hit) {\r\n    vec4 pos = room_mat * (r.o + r.d * si.hit.t);\r\n    vec4 pos_b = room_b_mat * (r.o + r.d * si.hit.t);\r\n    bool first = pos.z < 0.;\r\n    if (\r\n      (first && outside_a(pos) && outside_b(pos)) ||\r\n      (!first && inside_a(pos) && inside_b(pos) && inside_b(pos_b) && outside_a(pos_b))\r\n    ) {\r\n      // if (first) si.material = solid_2_M; else si.material = solid_3_M;\r\n      return si;\r\n    }\r\n  }\r\n}\r\n\r\nreturn scene_intersection_none;")),
                in_subspace: Normal,
            ),
        ),
        (
            name: "object",
            data: Complex(
                kind: Simple(Some(Named("object"))),
                intersect: (("if (enable_object_u == 0) return scene_intersection_none;\n\nreturn intersect_box(vec3(1.), r, companion_cube_M);")),
                in_subspace: Normal,
            ),
        ),
    ]),
    cameras: ([]),
    textures: ([]),
    materials: ([
        (
            name: "room_yellow",
            data: Simple(
                color: (0.8980392156862745, 0.8313725490196079, 0.25098039215686274),
                normal_coef: 0.5,
                grid: true,
                grid_scale: 1,
                grid_coef: 0.3,
                grid2: false,
                grid3: true,
            ),
        ),
        (
            name: "room_red",
            data: Simple(
                color: (0.9058823529411765, 0.29411764705882354, 0.29411764705882354),
                normal_coef: 0.5,
                grid: true,
                grid_scale: 1,
                grid_coef: 0.3,
                grid2: false,
                grid3: true,
            ),
        ),
        (
            name: "room_black",
            data: Simple(
                color: (0.050980392156862744, 0.050980392156862744, 0.050980392156862744),
                normal_coef: 0.5,
                grid: true,
                grid_scale: 1,
                grid_coef: 0.3,
                grid2: false,
                grid3: true,
            ),
        ),
        (
            name: "room_gray",
            data: Simple(
                color: (0.2235294117647059, 0.2235294117647059, 0.2235294117647059),
                normal_coef: 0.5,
                grid: true,
                grid_scale: 1,
                grid_coef: 0.3,
                grid2: false,
                grid3: true,
            ),
        ),
        (
            name: "room_blue",
            data: Simple(
                color: (0.3137254901960784, 0.38823529411764707, 0.9254901960784314),
                normal_coef: 0.5,
                grid: true,
                grid_scale: 1,
                grid_coef: 0.3,
                grid2: false,
                grid3: true,
            ),
        ),
        (
            name: "room_green",
            data: Simple(
                color: (0.2627450980392157, 0.8470588235294118, 0.30196078431372547),
                normal_coef: 0.5,
                grid: true,
                grid_scale: 1,
                grid_coef: 0.3,
                grid2: false,
                grid3: true,
            ),
        ),
        (
            name: "portal_blue",
            data: Simple(
                color: (0.28627450980392155, 0.3411764705882353, 0.9294117647058824),
                normal_coef: 0.5,
                grid: false,
                grid_scale: 4,
                grid_coef: 0.3,
                grid2: false,
                grid3: false,
            ),
        ),
        (
            name: "portal_red",
            data: Simple(
                color: (0.9686274509803922, 0.19607843137254902, 0.19607843137254902),
                normal_coef: 0.5,
                grid: false,
                grid_scale: 4,
                grid_coef: 0.3,
                grid2: false,
                grid3: false,
            ),
        ),
        (
            name: "portal_green",
            data: Simple(
                color: (0.34509803921568627, 0.9215686274509803, 0.23529411764705882),
                normal_coef: 0.5,
                grid: false,
                grid_scale: 4,
                grid_coef: 0.3,
                grid2: false,
                grid3: false,
            ),
        ),
        (
            name: "mirror",
            data: Reflect(
                add_to_color: (1, 1, 1),
            ),
        ),
        (
            name: "grid_gray",
            data: Simple(
                color: (0.6666666666666666, 0.6666666666666666, 0.6666666666666666),
                normal_coef: 0.5,
                grid: true,
                grid_scale: 5,
                grid_coef: 0.3,
                grid2: false,
                grid3: false,
            ),
        ),
        (
            name: "triangle_black",
            data: Simple(
                color: (0.043137254901960784, 0.043137254901960784, 0.043137254901960784),
                normal_coef: 0.5,
                grid: false,
                grid_scale: 4,
                grid_coef: 0.3,
                grid2: false,
                grid3: false,
            ),
        ),
        (
            name: "triangle_white",
            data: Simple(
                color: (0.7686274509803922, 0.7686274509803922, 0.7686274509803922),
                normal_coef: 0.5,
                grid: false,
                grid_scale: 4,
                grid_coef: 0.3,
                grid2: false,
                grid3: false,
            ),
        ),
        (
            name: "solid_black",
            data: Simple(
                color: (0, 0, 0),
                normal_coef: 0.5,
                grid: false,
                grid_scale: 4,
                grid_coef: 0.3,
                grid2: false,
                grid3: false,
            ),
        ),
        (
            name: "solid_0",
            data: Simple(
                color: (1, 0.5137254901960784, 0.24313725490196078),
                normal_coef: 0.5,
                grid: true,
                grid_scale: 16,
                grid_coef: 0.3,
                grid2: true,
                grid3: false,
            ),
        ),
        (
            name: "solid_1",
            data: Simple(
                color: (0.19607843137254902, 0.9176470588235294, 0.9725490196078431),
                normal_coef: 0.5,
                grid: true,
                grid_scale: 16,
                grid_coef: 0.3,
                grid2: true,
                grid3: false,
            ),
        ),
        (
            name: "solid_2",
            data: Simple(
                color: (1, 0, 0.996078431372549),
                normal_coef: 0.5,
                grid: true,
                grid_scale: 5,
                grid_coef: 0.3,
                grid2: false,
                grid3: false,
            ),
        ),
        (
            name: "solid_3",
            data: Simple(
                color: (1, 0.9764705882352941, 0.15294117647058825),
                normal_coef: 0.5,
                grid: true,
                grid_scale: 4,
                grid_coef: 0.3,
                grid2: false,
                grid3: false,
            ),
        ),
        (
            name: "companion_cube",
            data: Complex(
                code: (("return material_simple(hit, r, companion_cube_color(hit.u, hit.v), 5e-1, false, 4e0, 3e-1);")),
            ),
        ),
    ]),
    intersection_materials: ([]),
    library: ([
        (
            name: "common",
            data: (("bool invert_if(bool value, bool condition) {\n  if (condition) {\n    return !value;\n  } else {\n    return value;\n  }\n}")),
        ),
        (
            name: "room",
            data: (("int is_inside_square(float x, float y, float sizex, float sizey, int material) {\n  if (abs(x) < sizex && abs(y) < sizey) {\n    return material;\n  } else {\n    return NOT_INSIDE;\n  }\n}\n")),
        ),
        (
            name: "box",
            data: (("SceneIntersection intersect_box(vec3 rad, Ray r, int material) {\r\n  vec3 m = 1.0/r.d.xyz;\r\n  vec3 n = m*r.o.xyz;\r\n  vec3 k = abs(m)*rad;\r\n  vec3 t1 = -n - k;\r\n  vec3 t2 = -n + k;\r\n\r\n  float tN = max( max( t1.x, t1.y ), t1.z );\r\n  float tF = min( min( t2.x, t2.y ), t2.z );\r\n\r\n  float t = tN;\r\n  if (tN < 0.0 && tF > 0.0) t = tF;\r\n\r\n  if(tN > tF) return scene_intersection_none;\r\n\r\n  if(t < 0.0) return scene_intersection_none;\r\n\r\n  vec3 oN = -sign(r.d.xyz)*step(t1.yzx,t1.xyz)*step(t1.zxy,t1.xyz);\r\n\r\n  vec3 pos = (r.o + r.d * t).xyz;\r\n\r\n  vec2 uv = vec2(pos.x, pos.y);\r\n  if (pos.z < 0.) uv.x = -uv.x;\r\n  if (abs(abs(pos.x) - rad.x) < 0.0001) {\r\n    uv = vec2(pos.y, pos.z);\r\n    if (pos.x < 0.) uv.x = -uv.x;\r\n  }\r\n  if (abs(abs(pos.y) - rad.y) < 0.0001) {\r\n    uv = vec2(pos.x, pos.z);\r\n    if (pos.y > 0.) uv.x = -uv.x;\r\n  }\r\n\r\n  return SceneIntersection(material, SurfaceIntersection(true, t, uv.x, uv.y, normalize_normal(r.d.xyz, oN)), false);\r\n}")),
        ),
        (
            name: "portal",
            data: (("float circle_distance(float x, float y) {\n  return sqrt(sqr(x) + sqr(y));\n}\n\nfloat ellipse_distance(float x, float y) {\n  return sqrt(2.*sqr(x) + sqr(y));\n}\n\nfloat square_distance(float x, float y) {\n  return max(abs(x), abs(y));\n}\n\nfloat rect_distance(float x, float y, float a, float b) {\n  return max(abs(x)-a+1., abs(y)-b+1.);\n}\n\nfloat triangle_distance(float x, float y, float k1, float k2, float y1) {\n  return max(\n    (y-k1*x)/sqrt(1.0+sqr(k1)),\n  max(\n    (y-k2*x)/sqrt(1.0+sqr(k2)),\n    -y1 * y\n  ));\n}\n\nint is_inside_object(\r\n  float distance, \r\n  float size, \r\n  float border,\r\n  int material_inner, \r\n  int material_border\n) {\r\n  if (distance < size) return material_inner;\r\n  if (distance < size + border) return material_border;\r\n  return NOT_INSIDE;\r\n}\n\nint is_inside_portal(\n  float distance, \n  float size, \n  float border,\n  float black_border,\n  int material_first, \n  int material_second, \n  int grid_material_first, \n  int grid_material_second, \n  bool back,\n  bool first\n) {\n  int material = material_second;\n  if (first) { material = material_first; }\n\n  if (distance < size) {\n    if (back) {\n      return material;      \n    } else {\n      if (teleport_light_u == 1) {\n      \tif (mirror_u == 1) {\n          return mirror_M;\n        } else {\n          return TELEPORT;\n        }\n      } else {\n        if (first) {\n          return grid_material_first;\n        } else {\n          return grid_material_second;\n        }\n      }\n    }\n  }\n  int black_material = solid_black_M;\n  if (_black_border_disable == 1) black_material = material;\n  if (distance < size + black_border && !back) return black_material;\n  if (distance < size + black_border + border) return material;\n  if (distance < size + black_border + border + black_border) return black_material;\n\n  return NOT_INSIDE;\n}\n")),
        ),
        (
            name: "room2",
            data: (("SceneIntersection process_t_room(Ray r, float t, vec3 oN) {\r\n  if (t < 0.) return scene_intersection_none;\r\n  vec3 sizes = vec3(room_size_x_u, room_size_y_u, room_size_z_u);\r\n\r\n  vec3 pos = (r.o + r.d * t).xyz;\r\n\r\n  int material_pos = 1;\r\n\r\n  vec2 uv = vec2(pos.x, pos.y);\r\n  if (abs(abs(pos.x) - sizes.x) < 0.0001) {\r\n    uv = vec2(pos.y, pos.z);\r\n    material_pos = 2;\r\n  }\r\n  if (abs(abs(pos.y) - sizes.y) < 0.0001) {\r\n    uv = vec2(pos.x, pos.z);\r\n    material_pos = 3;\r\n  }\r\n\r\n  int material = grid_gray_M;\r\n\r\n  if (material_pos == 1 && pos.z > 0.) material = room_blue_M;\r\n  if (material_pos == 1 && pos.z < 0.) material = room_green_M;\r\n  if (material_pos == 2 && pos.x > 0.) material = room_yellow_M;\r\n  if (material_pos == 2 && pos.x < 0.) material = room_red_M;\r\n  if (material_pos == 3 && pos.y > 0.) material = room_black_M;\r\n  if (material_pos == 3 && pos.y < 0.) material = room_gray_M;\r\n\r\n  return SceneIntersection(material, SurfaceIntersection(true, t, uv.x, uv.y, normalize_normal(r.d.xyz, oN)), false);\r\n}\r\n\r\nstruct TwoSceneIntersections {\r\n  SceneIntersection first;\r\n  SceneIntersection second;  \r\n};\r\n\r\nTwoSceneIntersections intersect_room(Ray r) {\r\n  vec3 sizes = vec3(room_size_x_u, room_size_y_u, room_size_z_u);\r\n\r\n  vec3 m = 1.0 / r.d.xyz;\r\n  vec3 n = m * r.o.xyz;\r\n  vec3 k = abs(m) * sizes;\r\n  vec3 vt1 = -n - k;\r\n  vec3 vt2 = -n + k;\r\n\r\n  float t1 = max(max(vt1.x, vt1.y), vt1.z);\r\n  float t2 = min(min(vt2.x, vt2.y), vt2.z);\r\n\r\n  vec3 n1 = -sign(r.d.xyz) * step(vt1.yzx,vt1.xyz) * step(vt1.zxy,vt1.xyz);\r\n  vec3 n2 = -sign(r.d.xyz) * step(vt2.xyz, vt2.yzx) * step(vt2.xyz, vt2.zxy);\r\n\r\n  if (t1 > t2) return TwoSceneIntersections(\r\n    scene_intersection_none,\r\n    scene_intersection_none\r\n  );\r\n\r\n  return TwoSceneIntersections(\r\n    process_t_room(r, t1, n1),\r\n    process_t_room(r, t2, n2)\r\n  );\r\n}\n\nSceneIntersection get_from_two(TwoSceneIntersections res, int pos) {\r\n  if (pos == 0) return res.first;\r\n  return res.second;\r\n}")),
        ),
        (
            name: "cylinder",
            data: (("TwoSceneIntersections intersect_cylinder(Ray r, float radius, float height, float progress, int material) {\r\n  float a = dot(r.d.xy, r.d.xy);\r\n  float b = 2.0 * dot(r.o.xy, r.d.xy);\r\n  float c = dot(r.o.xy, r.o.xy) - sqr(radius);\r\n  float det = b*b - 4.0 * a * c;\r\n\r\n  if (det < 0.) return TwoSceneIntersections(scene_intersection_none, scene_intersection_none);\r\n\r\n  det = sqrt(det);\r\n\r\n  float t = (-b - det)/(2.*a);\r\n  vec4 pos = r.o + r.d * t;\r\n  float u = atan(pos.y, pos.x) * radius;\r\n  float v = pos.z;\r\n  \r\n  SceneIntersection res1 = scene_intersection_none;\r\n  if (t > 0. && abs(v) < height && u / radius + PI < progress * 2. * PI) {\r\n    vec3 n = normalize(vec3(pos.xy, 0.));\r\n    if (pos.z > 0.) { material = portal_red_M; }\r\n    else { material = portal_blue_M; }\r\n    if (abs(pos.z) > border_u - black_border_u) { material = solid_black_M; }\r\n    res1 =  SceneIntersection(material, SurfaceIntersection(true, t, u, v, n), false);\r\n  }\r\n\r\n  t = (-b + det)/(2.*a);\r\n  pos = r.o + r.d * t;\r\n  u = atan(pos.y, pos.x) * radius;\r\n  v = pos.z;\r\n\r\n  SceneIntersection res2 = scene_intersection_none;\r\n  if (t > 0. && abs(v) < height && u / radius + PI < progress * 2. * PI) {\r\n    vec3 n = normalize(vec3(pos.xy, 0.));\r\n    if (pos.z > 0.) { material = portal_red_M; }\r\n    else { material = portal_blue_M; }\r\n    if (abs(pos.z) > border_u - black_border_u) { material = solid_black_M; }\r\n    res2 = SceneIntersection(material, SurfaceIntersection(true, t, u, v, n), false);\r\n  }\r\n\r\n  return TwoSceneIntersections(res1, res2);\r\n}")),
        ),
        (
            name: "inside_outside",
            data: (("bool inside(mat4 mat, vec4 pos) {\r\n  return length((mat * pos).xyz) < 1.;\r\n}\r\n\r\nbool outside(mat4 mat, vec4 pos) {\r\n  return length((mat * pos).xyz) > 1.;\r\n}\r\n\r\nbool inside_a(vec4 pos) {\r\n  return length((a_final_mat_inv * pos).xyz) < 1.;\r\n}\r\n\r\nbool outside_a(vec4 pos) {\r\n  return length((a_final_mat_inv * pos).xyz) > 1.;\r\n}\r\n\r\nbool inside_b(vec4 pos) {\r\n  return length((b_final_mat_inv * pos).xyz) < 1.;\r\n}\r\n\r\nbool outside_b(vec4 pos) {\r\n  return length((b_final_mat_inv * pos).xyz) > 1.;\r\n}")),
        ),
        (
            name: "companion_cube",
            data: (("vec3 companion_cube_color(float u, float v) {\r\n  float mul = 1.;\r\n  float dist = sqrt(u * u + v * v);\r\n  float circle_size = 0.6;\r\n  float circle_border = 0.03;\r\n  if (dist < circle_size + circle_border && dist > circle_size) { mul = 0.4; }\r\n  if (dist > circle_size + circle_border) { mul = (PI + atan(u, v))/(2.0*PI); }\r\n\r\n  if (dist < circle_size) {\r\n    float scale = 3.;\r\n    float x = u * scale;\r\n    float y = v * scale + 0.26;\r\n    float temp1 = x*x + y*y - 1.;\r\n    if (temp1 * temp1 * temp1 - x * x * y * y * y < 0.) {\r\n      return vec3(222., 35., 138.) / 255.;\r\n    }\r\n  }\r\n\r\n  return color_grid3(vec3(9.176470588235294e-1, 9.176470588235294e-1, 9.176470588235294e-1) * mul, vec2(u + 1., v + 1.));\r\n}")),
        ),
    ]),
    animations_filters: (
        uniforms: {
            "black_border": false,
            "border": false,
            "enable_border": true,
            "enable_cylinder": true,
            "enable_cylinder_degrees": true,
            "enable_object": true,
            "enable_portals": true,
            "enable_room": true,
            "h": false,
            "mirror": false,
            "o1": false,
            "o2": false,
            "progress1": true,
            "progress2": true,
            "progress3": true,
            "progress4": true,
            "r1": false,
            "r2": false,
            "r3": false,
            "ra": true,
            "room_size_x": false,
            "room_size_y": false,
            "room_size_z": false,
            "t": true,
            "teleport_light": true,
        },
        matrices: {
            "a1": false,
            "a_final": false,
            "a_rot": true,
            "b1": false,
            "b_final": false,
            "b_rot": true,
            "object": true,
            "room": false,
            "room_a": false,
            "room_a2": false,
            "room_a3": false,
            "room_b": false,
            "room_b2": false,
            "room_b3": false,
        },
        cameras: {},
    ),
    elements_descriptions: (
        uniforms: {
            "enable_border": (
                help_description: None,
                overrided_name: "Enable border",
            ),
            "enable_cylinder": (
                help_description: None,
                overrided_name: "Enable cylinder border",
            ),
            "enable_cylinder_degrees": (
                help_description: None,
                overrided_name: "Enable cylinder degrees",
            ),
            "enable_object": (
                help_description: None,
                overrided_name: "",
            ),
            "enable_portals": (
                help_description: None,
                overrided_name: "Enable portals",
            ),
            "enable_room": (
                help_description: None,
                overrided_name: "Enable room",
            ),
            "progress1": (
                help_description: None,
                overrided_name: "",
            ),
            "progress2": (
                help_description: None,
                overrided_name: "",
            ),
            "progress3": (
                help_description: None,
                overrided_name: "",
            ),
            "ra": (
                help_description: None,
                overrided_name: "Relative size",
            ),
            "t": (
                help_description: None,
                overrided_name: "Inside position",
            ),
            "teleport_light": (
                help_description: None,
                overrided_name: "Teleport light",
            ),
        },
        matrices: {
            "a_rot": (
                help_description: None,
                overrided_name: "Rotation of A",
            ),
            "b_rot": (
                help_description: None,
                overrided_name: "Rotation of B",
            ),
            "object": (
                help_description: None,
                overrided_name: "",
            ),
        },
        cameras: {},
    ),
    user_uniforms: (
        uniforms: {
            "black_border": false,
            "border": false,
            "enable_border": false,
            "enable_cylinder": false,
            "enable_cylinder_degrees": false,
            "enable_object": false,
            "enable_portals": false,
            "enable_room": false,
            "h": false,
            "mirror": false,
            "o1": false,
            "o2": false,
            "progress1": false,
            "progress2": false,
            "progress3": false,
            "progress4": false,
            "r1": false,
            "r2": false,
            "r3": false,
            "ra": false,
            "room_size_x": false,
            "room_size_y": false,
            "room_size_z": false,
            "t": false,
            "teleport_light": true,
        },
        matrices: {
            "a1": false,
            "a_final": false,
            "a_rot": false,
            "b1": false,
            "b_final": false,
            "b_rot": false,
            "object": false,
            "room": false,
            "room_a": false,
            "room_a2": false,
            "room_a3": false,
            "room_b": false,
            "room_b2": false,
            "room_b3": false,
        },
    ),
    animation_stages: ([
        (
            name: "Explore",
            data: (
                name: (
                    eng: "Explore",
                    rus: "Explore",
                ),
                description: Some((
                    eng: "`first` - внутри A, синяя граница\r\n`!first` - внутри B, красная граница\r\n\r\nA - оранжевый портал\r\nB - голубой портал\r\n\r\nA - синяя граница\r\nB - красная граница\r\n\r\nтелепортация из A в B - `room_b`, красная граница, `first`",
                    rus: "см. english",
                )),
                uniforms: {
                    "black_border": FromDev,
                    "border": FromDev,
                    "enable_border": ProvidedToUser,
                    "enable_cylinder": ProvidedToUser,
                    "enable_cylinder_degrees": ProvidedToUser,
                    "enable_portals": ProvidedToUser,
                    "enable_room": ProvidedToUser,
                    "h": FromDev,
                    "mirror": FromDev,
                    "o1": FromDev,
                    "o2": FromDev,
                    "r1": FromDev,
                    "r2": FromDev,
                    "r3": FromDev,
                    "ra": ProvidedToUser,
                    "room_size_x": FromDev,
                    "room_size_y": FromDev,
                    "room_size_z": FromDev,
                    "t": ProvidedToUser,
                    "teleport_light": FromDev,
                },
                matrices: {
                    "a1": FromDev,
                    "a_final": FromDev,
                    "a_rot": ProvidedToUser,
                    "b1": FromDev,
                    "b_final": FromDev,
                    "b_rot": ProvidedToUser,
                    "room": FromDev,
                    "room_a": FromDev,
                    "room_a2": FromDev,
                    "room_a3": FromDev,
                    "room_b": FromDev,
                    "room_b2": FromDev,
                    "room_b3": FromDev,
                },
                set_cam: None,
                cams: {},
                hidden: true,
            ),
        ),
    ]),
    current_stage: Animation("Explore"),
    dev_stage: (
        uniforms: {
            "black_border": Formula(("0.01")),
            "border": Float((
                min: Some(0),
                max: Some(0.3),
                value: 0.055,
            )),
            "enable_border": Bool(true),
            "enable_cylinder": Bool(true),
            "enable_cylinder_degrees": Int((
                min: Some(0),
                max: Some(3),
                value: 3,
            )),
            "enable_object": Bool(false),
            "enable_portals": Bool(true),
            "enable_room": Bool(true),
            "h": Formula(("sqrt(r1^2-o2^2)")),
            "mirror": Bool(false),
            "o1": Formula(("2*t*min(r1, r2)")),
            "o2": Formula(("(r1^2+r3^2-r2^2)/(2*r3)")),
            "progress1": Progress(0),
            "progress2": Progress(0),
            "progress3": Progress(0),
            "progress4": Progress(0),
            "r1": Formula(("e()^(ra/(1-abs(ra)))")),
            "r2": Formula(("1")),
            "r3": Formula(("r1+r2-o1")),
            "ra": Float((
                min: Some(-0.93),
                max: Some(0.93),
                value: -0.25,
            )),
            "room_size_x": Float((
                min: Some(0),
                max: None,
                value: 4,
            )),
            "room_size_y": Float((
                min: Some(0),
                max: None,
                value: 4,
            )),
            "room_size_z": Float((
                min: Some(0),
                max: None,
                value: 4,
            )),
            "t": Float((
                min: Some(0.03),
                max: Some(0.99),
                value: 0.99,
            )),
            "teleport_light": Bool(true),
        },
        matrices: {
            "a1": Parametrized(
                offset: (
                    x: Value(0),
                    y: Value(0),
                    z: Uniform(Some(Inline(Formula(("-o2/h"))))),
                ),
                rotate: (
                    x: Value(0),
                    y: Value(0),
                    z: Value(0),
                ),
                mirror: (
                    x: Value(0),
                    y: Value(0),
                    z: Value(0),
                ),
                scale: Uniform(Some(Inline(Formula(("r1/h"))))),
            ),
            "a_final": Mul(
                to: Some(Named("a_rot")),
                what: Some(Named("a1")),
            ),
            "a_rot": Simple(
                offset: (0, 0, 0),
                scale: 1,
                rotate: (2.792526803190927, 0, 0),
                mirror: (false, false, false),
            ),
            "b1": Parametrized(
                offset: (
                    x: Value(0),
                    y: Value(0),
                    z: Uniform(Some(Inline(Formula(("(r3-o2)/h"))))),
                ),
                rotate: (
                    x: Value(0),
                    y: Value(0),
                    z: Value(0),
                ),
                mirror: (
                    x: Value(0),
                    y: Value(0),
                    z: Value(0),
                ),
                scale: Uniform(Some(Inline(Formula(("r2/h"))))),
            ),
            "b_final": Mul(
                to: Some(Named("b_rot")),
                what: Some(Named("b1")),
            ),
            "b_rot": Simple(
                offset: (0, 0, 0),
                scale: 1,
                rotate: (0, 0, 0),
                mirror: (false, false, false),
            ),
            "object": Simple(
                offset: (0, 1.97, 0),
                scale: 0.2,
                rotate: (0, 0, 0),
                mirror: (false, false, false),
            ),
            "room": Simple(
                offset: (0, 0, 0),
                scale: 1,
                rotate: (0, 0, 0),
                mirror: (false, false, false),
            ),
            "room_a": Teleport(
                first_portal: Some(Named("b_final")),
                second_portal: Some(Named("a_final")),
                what: Some(Named("room")),
            ),
            "room_a2": Teleport(
                first_portal: Some(Named("b_final")),
                second_portal: Some(Named("a_final")),
                what: Some(Named("room_a")),
            ),
            "room_a3": Teleport(
                first_portal: Some(Named("b_final")),
                second_portal: Some(Named("a_final")),
                what: Some(Named("room_a2")),
            ),
            "room_b": Teleport(
                first_portal: Some(Named("a_final")),
                second_portal: Some(Named("b_final")),
                what: Some(Named("room")),
            ),
            "room_b2": Teleport(
                first_portal: Some(Named("a_final")),
                second_portal: Some(Named("b_final")),
                what: Some(Named("room_b")),
            ),
            "room_b3": Teleport(
                first_portal: Some(Named("a_final")),
                second_portal: Some(Named("b_final")),
                what: Some(Named("room_b2")),
            ),
        },
    ),
    animations: ([
        (
            name: "v3.michael.0",
            data: (
                duration: 3,
                animation_stage: Animation("Explore"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": Changed(Some(Inline(Bool(false)))),
                    "enable_cylinder": Changed(Some(Inline(Bool(false)))),
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": Changed(Some(Inline(Progress(0)))),
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": Changed(Some(Inline(Float((
                        min: None,
                        max: None,
                        value: 0.02,
                    ))))),
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": Changed(Some(Inline(Float((
                        min: None,
                        max: None,
                        value: 0.77,
                    ))))),
                    "teleport_light": Changed(Some(Inline(Bool(false)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": Changed(Some(Inline(Simple(
                        offset: (0, 0, 0),
                        scale: 1,
                        rotate: (4.956735075663896, 5.8817595792208905, 4.9218284906240095),
                        mirror: (false, false, false),
                    )))),
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": Changed(Some(Inline(Parametrized(
                        offset: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        rotate: (
                            x: Value(2.5132741228718345),
                            y: Value(0.6108652381980153),
                            z: Uniform(Some(Inline(Formula(("deg2rad(313 + lerp(0, 360, progress1))"))))),
                        ),
                        mirror: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        scale: Value(1),
                    )))),
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: false,
                use_start_cam_as_end: false,
                cam_start: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -128.5862373491352,
                    beta: 1.1946084594726574,
                    r: 2.430442096739961,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -132.47623826466247,
                    beta: 1.0948526000976595,
                    r: 2.430442096739961,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.michael.1",
            data: (
                duration: 4,
                animation_stage: RealAnimation("v3.michael.0"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": Changed(Some(Inline(Bool(true)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -128.8402053822214,
                    beta: 1.5127426154272121,
                    r: 1.509113322326444,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.intersect.0",
            data: (
                duration: 3,
                animation_stage: Animation("Explore"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": Changed(Some(Inline(Bool(false)))),
                    "enable_cylinder": Changed(Some(Inline(Bool(false)))),
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": Changed(Some(Inline(Bool(false)))),
                    "enable_portals": Changed(Some(Inline(Bool(true)))),
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": Changed(Some(Inline(Formula(("1-easing_in_out(time)"))))),
                    "progress2": Changed(Some(Inline(Progress(0)))),
                    "progress3": Changed(Some(Inline(Progress(0)))),
                    "progress4": Changed(Some(Inline(Progress(0)))),
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": Changed(Some(Inline(Float((
                        min: None,
                        max: None,
                        value: 0,
                    ))))),
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": Changed(Some(Inline(Progress(0.36)))),
                    "teleport_light": Changed(Some(Inline(Bool(false)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": Changed(Some(Inline(Parametrized(
                        offset: (
                            x: Value(0),
                            y: Value(0),
                            z: Uniform(Some(Inline(Formula(("lerp(0, -0.4, progress1)"))))),
                        ),
                        rotate: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        mirror: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        scale: Value(1),
                    )))),
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": Changed(Some(Inline(Parametrized(
                        offset: (
                            x: Value(0),
                            y: Value(0),
                            z: Uniform(Some(Inline(Formula(("lerp(0, 0.4, progress1)"))))),
                        ),
                        rotate: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        mirror: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        scale: Value(1),
                    )))),
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: false,
                use_start_cam_as_end: true,
                cam_start: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -3.139999771118162,
                    beta: 1.2320157623291033,
                    r: 3.500000000000001,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.intersect.0.5",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.intersect.0"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: false,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: Some(false),
                use_any_cam_as_end: Some(false),
                cam_any_start: Some("v3.intersect.0"),
                cam_any_end: Some("v3.intersect.1"),
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.intersect.1",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.intersect.0"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": Changed(Some(Inline(Bool(true)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: false,
                use_start_cam_as_end: true,
                cam_start: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -2.163332748413086,
                    beta: 1.3878861999511733,
                    r: 3.8500000000000005,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.intersect.2",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.intersect.0"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.intersect.3",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.intersect.2"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": Changed(Some(Inline(Progress(0)))),
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: false,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -2.8080359794159366,
                    beta: 1.1175480673799407,
                    r: 2.1419857516241083,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                use_any_cam_as_start: Some(false),
                use_any_cam_as_end: None,
                cam_any_start: Some("v3.intersect.1"),
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.intersect.4",
            data: (
                duration: 0.01,
                animation_stage: RealAnimation("v3.intersect.3"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": Changed(Some(Inline(Bool(true)))),
                    "enable_cylinder": Changed(Some(Inline(Bool(false)))),
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_portals": Changed(Some(Inline(Bool(false)))),
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.intersect.5",
            data: (
                duration: 0.01,
                animation_stage: RealAnimation("v3.intersect.4"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": Changed(Some(Inline(Bool(true)))),
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.intersect.6",
            data: (
                duration: 1,
                animation_stage: RealAnimation("v3.intersect.5"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_portals": Changed(Some(Inline(Bool(true)))),
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": Changed(Some(Inline(Bool(false)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -2.61136926188664,
                    beta: 1.2297741721162692,
                    r: 3.136081338952858,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.intersect.7",
            data: (
                duration: 0.01,
                animation_stage: RealAnimation("v3.intersect.6"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": Changed(Some(Inline(Bool(true)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.intersect.8",
            data: (
                duration: 4,
                animation_stage: RealAnimation("v3.intersect.7"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: 0.8835997674195906,
                    beta: 1.1798985312471268,
                    r: 1.9000000000000006,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1.000046730041504, 0, 0.0002384185791015625, 0, 0.0002384185791015625, 1.000046730041504, 0.00035762786865234375, 0, 0, -0.000059604644775390625, 1.0001659393310547, 0, -0.00020238403190697696, 0.00007362434317170763, -0.0006881827360076809, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.intersect.9",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.intersect.8"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": Changed(Some(Inline(Bool(true)))),
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": Changed(Some(Inline(Formula(("easing_in_out(time)"))))),
                    "progress3": Changed(Some(Inline(Progress(0)))),
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": Changed(Some(Inline(Parametrized(
                        offset: (
                            x: Uniform(Some(Inline(Formula(("lerp(1.6, 0, progress2)"))))),
                            y: Value(0),
                            z: Uniform(Some(Inline(Formula(("lerp(-1.3, 1.3, progress4) - easing_plus_minus(progress3) * 0.6"))))),
                        ),
                        rotate: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        mirror: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        scale: Value(0.2),
                    )))),
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.intersect.10",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.intersect.9"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": Changed(Some(Inline(Progress(1)))),
                    "progress3": Changed(Some(Inline(Formula(("time"))))),
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.intersect.11",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.intersect.10"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": Changed(Some(Inline(Progress(0)))),
                    "progress4": Changed(Some(Inline(Progress(0)))),
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -0.5897332098753315,
                    beta: 1.2235409567842361,
                    r: 2.299000000000001,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.intersect.12",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.intersect.11"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": Changed(Some(Inline(Formula(("easing_in_out(time)"))))),
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.intersect.13",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.intersect.12"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": Changed(Some(Inline(Formula(("time"))))),
                    "progress4": Changed(Some(Inline(Progress(1)))),
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.intersect.14",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.intersect.13"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": Changed(Some(Inline(Progress(0)))),
                    "progress4": Changed(Some(Inline(Float((
                        min: None,
                        max: None,
                        value: 1,
                    ))))),
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: 1.0602675530641226,
                    beta: 1.2671841452607975,
                    r: 4.072818739000003,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.intersect.15",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.intersect.14"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": Changed(Some(Inline(Formula(("lerp(1, 1.5, easing_in_out(time))"))))),
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.intersect.16",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.intersect.15"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": Changed(Some(Inline(Float((
                        min: None,
                        max: None,
                        value: 1.5,
                    ))))),
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -1.2363987829954488,
                    beta: 1.2734188864717355,
                    r: 4.072818739000003,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.intersect.17",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.intersect.16"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: 0.23142812476753358,
                    beta: 1.1922464654936442,
                    r: 3.702562490000003,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.rotation.0",
            data: (
                duration: 2,
                animation_stage: Animation("Explore"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": Changed(Some(Inline(Bool(true)))),
                    "enable_cylinder": Changed(Some(Inline(Bool(true)))),
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": Changed(Some(Inline(Bool(false)))),
                    "enable_portals": Changed(Some(Inline(Bool(true)))),
                    "enable_room": Changed(Some(Inline(Bool(true)))),
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": Changed(Some(Inline(Formula(("easing_in_out(time)"))))),
                    "progress2": Changed(Some(Inline(Progress(0)))),
                    "progress3": Changed(Some(Inline(Progress(0)))),
                    "progress4": Changed(Some(Inline(Progress(0)))),
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": Changed(Some(Inline(Float((
                        min: None,
                        max: None,
                        value: 0,
                    ))))),
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": Changed(Some(Inline(Float((
                        min: None,
                        max: None,
                        value: 0.33,
                    ))))),
                    "teleport_light": Changed(Some(Inline(Bool(false)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": Changed(Some(Inline(Parametrized(
                        offset: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        rotate: (
                            x: Value(0),
                            y: Uniform(Some(Inline(Formula(("deg2rad(lerp(0, 360, progress1))"))))),
                            z: Value(0),
                        ),
                        mirror: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        scale: Value(1),
                    )))),
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": Changed(Some(Inline(Simple(
                        offset: (0, 0, 0),
                        scale: 1,
                        rotate: (0, 0, 0),
                        mirror: (false, false, false),
                    )))),
                    "object": Changed(Some(Inline(Simple(
                        offset: (0, 1.85, 0),
                        scale: 0.2,
                        rotate: (0, 0, 0),
                        mirror: (false, false, false),
                    )))),
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: false,
                use_start_cam_as_end: true,
                cam_start: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -2.3733329772949205,
                    beta: 1.2881303405761741,
                    r: 3.5,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1.0001659393310547, -0.0005960464477539063, 0.000476837158203125, 0, 0, 0.9993314743041992, 0.0008940696716308594, 0, 0, -0.0005960464477539063, 1.000523567199707, 0, -0.0005561488486010013, 0.0031098342744264595, -0.002822882127931692, 1),
                ))),
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.rotation.1",
            data: (
                duration: 4,
                animation_stage: RealAnimation("v3.rotation.0"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": Changed(Some(Inline(Bool(true)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.rotation.2",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.rotation.1"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": Changed(Some(Inline(Progress(0)))),
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -3.141592653589793,
                    beta: 0.016234741210937504,
                    r: 2.629601803155522,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1.0001659393310547, -0.0005960464477539063, 0.000476837158203125, 0, 0, 0.9993314743041992, 0.0008940696716308594, 0, 0, -0.0005960464477539063, 1.000523567199707, 0, -0.0005561488486010013, 0.0031098342744264595, -0.002822882127931692, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.rotation.3",
            data: (
                duration: 4,
                animation_stage: RealAnimation("v3.rotation.1"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.rotation.4",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.rotation.3"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": Changed(Some(Inline(Formula(("easing_in_out(time)*0.6"))))),
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.rotation.5",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.rotation.4"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": Changed(Some(Inline(Progress(0.6)))),
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -1.444925936060494,
                    beta: 1.3068334197998046,
                    r: 1.7960534138074737,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (-0.8085370063781738, -0.0005960464477539063, -0.5881786346435547, 0, 0.0005364418029785156, 0.9993314743041992, -0.000476837158203125, 0, 0.5884170532226563, -0.0005960464477539063, -0.8093118667602539, 0, 0.5293696775897179, 0.003085105546685618, 0.17492759667984314, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.rotation.6",
            data: (
                duration: 4,
                animation_stage: RealAnimation("v3.rotation.5"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: 0.2617993877991494,
                    beta: 1.4047708368640912,
                    r: 2.194136543712861,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1.0007619857788086, -0.0005960464477539063, 0.002384185791015625, 0, 0.0005960464477539063, 0.9992718696594238, 0.002384185791015625, 0, 0, -0.0005960464477539063, 1.0013580322265625, 0, -0.0014160104213931657, 0.0031190121846345065, -0.0055425804036026705, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.michael.2",
            data: (
                duration: 4,
                animation_stage: RealAnimation("v3.michael.1"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": Changed(Some(Inline(Bool(true)))),
                    "enable_cylinder": Changed(Some(Inline(Bool(true)))),
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: false,
                use_start_cam_as_end: false,
                cam_start: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -5.956666564941402,
                    beta: 0.8579297637939448,
                    r: 2.390547093777747,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -2.6395986047425,
                    beta: 1.6815049100591022,
                    r: 0.610651018542076,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (0.8034706115722656, -0.3522890619933605, 0.5614757537841797, 0, 0.6601810455322266, 0.34585059620440006, -0.7277727127075195, 0, 0.059723854064941406, 0.9172779973596334, 0.49000978469848633, 0, -0.4642051219651211, -0.05312254655380336, -0.21854816183889497, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.michael.3",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.michael.2"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -3.693333053588865,
                    beta: 1.3504781341552738,
                    r: 1.0138253290784076,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (0.4309713840484619, 0.6904006004333496, 0.6160140037536621, 0, 0.07206201553344727, -0.7024407386779785, 0.7369518280029297, 0, 0.9223818778991699, -0.2677440643310547, -0.3452897071838379, 0, -0.18526805262104143, 0.05383951779035634, -0.2198441861007236, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.michael.4",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.michael.3"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -3.3335788713091694,
                    beta: 1.0122909661567112,
                    r: 2.06,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (0.9999275207519531, -0.000022351741790771484, 0.000003725290298461914, 0, 0, 1.0000541806221008, 0.00006705522537231445, 0, 0, 0.00010058283805847168, 1.0000281035900116, 0, -0.00007674452010331123, -0.00001653900321610391, -0.000029056798344015422, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.michael.5",
            data: (
                duration: 5,
                animation_stage: RealAnimation("v3.michael.4"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": Changed(Some(Inline(Formula(("time"))))),
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.scale.0",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.rotation.0"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": Changed(Some(Inline(Progress(0.52)))),
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": Changed(Some(Inline(Formula(("lerp(0, -0.35, easing_in_out(time))"))))),
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": Changed(Some(Inline(Bool(false)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: false,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: Some(false),
                use_any_cam_as_end: None,
                cam_any_start: Some("v3.rotation.0"),
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.scale.1",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.scale.0"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": Changed(Some(Inline(Formula(("easing_in_out(time)*0.5"))))),
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": Changed(Some(Inline(Float((
                        min: None,
                        max: None,
                        value: -0.35,
                    ))))),
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": Changed(Some(Inline(Bool(true)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.scale.2",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.scale.1"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": Changed(Some(Inline(Progress(0.5)))),
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -3.246667098999011,
                    beta: 1.1073228454589865,
                    r: 3.5,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1.0001659393310547, -0.0005960464477539063, 0.000476837158203125, 0, 0, 0.9993314743041992, 0.0008940696716308594, 0, 0, -0.0005960464477539063, 1.000523567199707, 0, -0.0005561488486010013, 0.0031098342744264595, -0.002822882127931692, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.scale.3",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.scale.2"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -1.8833328247070327,
                    beta: 1.369181976318363,
                    r: 2.22,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1.0001659393310547, -0.0005960464477539063, 0.000476837158203125, 0, 0, 0.9993314743041992, 0.0008940696716308594, 0, 0, -0.0005960464477539063, 1.000523567199707, 0, -0.0005561488486010013, 0.0031098342744264595, -0.002822882127931692, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.scale.4",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.scale.3"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": Changed(Some(Inline(Formula(("lerp(0.33/(1-0.33), 0.97/(1-0.97), easing_in_out(time))"))))),
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": Changed(Some(Inline(Formula(("lerp(0.33, 0.97, easing_in_out(time))"))))),
                    "teleport_light": Changed(Some(Inline(Bool(false)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.scale.5",
            data: (
                duration: 2,
                animation_stage: RealAnimation("v3.scale.4"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": Changed(Some(Inline(Formula(("progress4/(progress4+1)"))))),
                    "teleport_light": Changed(Some(Inline(Bool(true)))),
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.scale.6",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.scale.5"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": Changed(Some(Inline(Float((
                        min: None,
                        max: None,
                        value: 0.97,
                    ))))),
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: false,
                use_start_cam_as_end: false,
                cam_start: Some(Inline((
                    look_at: Coordinate((-0.5994780367371331, 0.3984999719303746, -1.8552422633826786)),
                    alpha: -1.8833328247070327,
                    beta: 1.369181976318363,
                    r: 1.99,
                    in_subspace: false,
                    free_movement: true,
                    matrix: (1.0001659393310547, -0.0005960464477539063, 0.000476837158203125, 0, 0, 0.9993314743041992, 0.0008940696716308594, 0, 0, -0.0005960464477539063, 1.000523567199707, 0, -0.0005561488486010013, 0.0031098342744264595, -0.002822882127931692, 1),
                ))),
                cam_end: Some(Inline((
                    look_at: Coordinate((2.157972053593713, -0.13304472892209904, 2.2800604302547263)),
                    alpha: 0.20333404541015562,
                    beta: 1.5499909973144577,
                    r: 1.99,
                    in_subspace: false,
                    free_movement: true,
                    matrix: (1.0002851486206055, -0.0006034970283508301, 0.0007152557373046875, 0, 0, 0.9993314743041992, 0.001430511474609375, 0, -0.00011920928955078125, -0.0006034970283508301, 1.0004043579101563, 0, -0.0005160569018780592, 0.003157577812950396, -0.0028825595076140687, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.degree.0",
            data: (
                duration: 3,
                animation_stage: Animation("Explore"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": Changed(Some(Inline(Float((
                        min: None,
                        max: None,
                        value: -0.37,
                    ))))),
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": Changed(Some(Inline(Progress(0.85)))),
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": Changed(Some(Inline(Simple(
                        offset: (0, 0, 0),
                        scale: 1,
                        rotate: (0, 5.148721293383272, 0),
                        mirror: (false, false, false),
                    )))),
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: false,
                use_start_cam_as_end: false,
                cam_start: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -2.4566661834716816,
                    beta: 1.0886167144775394,
                    r: 2.6296018031555217,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -0.8799991607665987,
                    beta: 1.1197915649414045,
                    r: 2.3905470937777493,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.degree.1",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.degree.0"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": CopyPrev,
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: false,
                cam_start: None,
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -0.9635633592719981,
                    beta: 2.0320279601489064,
                    r: 1.8925273563642462,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
        (
            name: "v3.degree.2",
            data: (
                duration: 3,
                animation_stage: RealAnimation("v3.degree.1"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": CopyPrev,
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": CopyPrev,
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": Changed(Some(Inline(Parametrized(
                        offset: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        rotate: (
                            x: Value(0),
                            y: Uniform(Some(Inline(Formula(("deg2rad(lerp(295, 250, easing_in_out(time)))"))))),
                            z: Value(0),
                        ),
                        mirror: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        scale: Value(1),
                    )))),
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: true,
                use_start_cam_as_end: true,
                cam_start: None,
                cam_end: None,
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: Linear,
            ),
        ),
        (
            name: "v3.borders.0",
            data: (
                duration: 3,
                animation_stage: Animation("Explore"),
                uniforms: ({
                    "black_border": CopyPrev,
                    "border": CopyPrev,
                    "enable_border": CopyPrev,
                    "enable_cylinder": CopyPrev,
                    "enable_cylinder_degrees": CopyPrev,
                    "enable_object": CopyPrev,
                    "enable_portals": CopyPrev,
                    "enable_room": CopyPrev,
                    "h": CopyPrev,
                    "mirror": CopyPrev,
                    "o1": CopyPrev,
                    "o2": CopyPrev,
                    "progress1": CopyPrev,
                    "progress2": CopyPrev,
                    "progress3": CopyPrev,
                    "progress4": CopyPrev,
                    "r1": CopyPrev,
                    "r2": CopyPrev,
                    "r3": CopyPrev,
                    "ra": Changed(Some(Inline(Formula(("-0.25"))))),
                    "room_size_x": CopyPrev,
                    "room_size_y": CopyPrev,
                    "room_size_z": CopyPrev,
                    "t": Changed(Some(Inline(Progress(0.73)))),
                    "teleport_light": CopyPrev,
                }),
                matrices: ({
                    "a1": CopyPrev,
                    "a_final": CopyPrev,
                    "a_rot": Changed(Some(Inline(Parametrized(
                        offset: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        rotate: (
                            x: Value(3.141592653589793),
                            y: Value(1.6929693744344996),
                            z: Value(0),
                        ),
                        mirror: (
                            x: Value(0),
                            y: Value(0),
                            z: Value(0),
                        ),
                        scale: Value(1),
                    )))),
                    "b1": CopyPrev,
                    "b_final": CopyPrev,
                    "b_rot": CopyPrev,
                    "object": CopyPrev,
                    "room": CopyPrev,
                    "room_a": CopyPrev,
                    "room_a2": CopyPrev,
                    "room_a3": CopyPrev,
                    "room_b": CopyPrev,
                    "room_b2": CopyPrev,
                    "room_b3": CopyPrev,
                }),
                use_prev_cam: false,
                use_start_cam_as_end: false,
                cam_start: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -3.4999999999999996,
                    beta: 1.182139739990235,
                    r: 2.6296018031555217,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                cam_end: Some(Inline((
                    look_at: Coordinate((0, 0, 0)),
                    alpha: -0.8533325195312494,
                    beta: 0.9888619995117192,
                    r: 1.7960534138074735,
                    in_subspace: false,
                    free_movement: false,
                    matrix: (1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
                ))),
                use_any_cam_as_start: None,
                use_any_cam_as_end: None,
                cam_any_start: None,
                cam_any_end: None,
                cam_easing: InOut,
            ),
        ),
    ]),
    use_time: false,
    skybox: None,
)